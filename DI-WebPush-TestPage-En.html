<!DOCTYPE html>
<html>
<head>
	<meta charset=utf-8 />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta name="robots" content="noindex, nofollow">
	<title>Test page for Web push</title>
	<script> function showFeedback(param) { if(param != "") document.getElementById('feedback').innerHTML = "<strong>Ok!</strong>";	}</script>
	<style>
	body{	font-family: Arial, sans-serif; font-size: 14px; background-color: #eeeeee;}
	.container{	max-width: 800px;	margin:0 auto; padding:15px; background-color: #ffffff; border-radius: 5px;}
	.text-center{ text-align: center; }
	.form-textbox, input{ padding:5px;font-size: 14px;}
	.exemples { padding:10px 0;}
	.exemples div { text-align:center;}
	ul li, ol li{ padding-bottom:5px; }
	h1{ text-align: center; }
	</style>
  <!-- Start - Dialog Insight Web push code -->
	<!-- Copy and paste the code provided in the configuration page on Dialog Insight -->
	<script src="https://www.gstatic.com/firebasejs/5.4.1/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/5.4.1/firebase-messaging.js"></script>
	<script src="https://wpn.ofsys.com/T/OFC4/WPS/9824/356/g6Emgo93scT596C3ev1qVp58GYPR8LZG/DI.WebPush-min.js"></script>
  <!-- End - Dialog Insight Web push code -->
</head>
<body>
<div class="container">
	<h1>Dialog Insight - Web Push Notifications</h1>
	<p>Use this page to test how web push work before integrating them on your website.</p>
	<p><strong>This page does not work locally</strong>, you must first follow these steps: </p>
	<ol>
		<li> In the HTML code of this page, copy and paste the script provided by Dialog Insight. </li>
		<li> Upload the "DI.WebPush-sw.js" file, provided by Dialog Insight, at the root of your site. </li>
		<li> Upload this page to your website. </li>
		<li> Visit this page from a supported browser.</li>
	</ol>
	<p><a href="https://support.dialoginsight.com/en/support/solutions/articles/1000277698">See our online help</a> for more information.</p>

	<h1>Examples</h1>
	<h2>Display the Subscription Request</h2>
  <p>Trigger the browser authorization request with a button. You can also call this function when loading your page.</p>
	<p><strong>Fonction</strong><br />
	DI.WebPush.RequestPermission('LanguageCode');</p>

	<div style="text-align:center;">
		<input type="button" value="Receive notifications in FR" onclick="DI.WebPush.RequestPermission('fr');" />
		<input type="button" value="Receive notifications in EN" onclick="DI.WebPush.RequestPermission('en');" />
	</div>

	<div class="exemples">
		<div>Chrome<br /><img src="https://cdn.dialoginsight.com/OFSYS/admin/webpush/WebPush-Browser-Authorization-Chrome.jpg" /></div>
		<div>Firefox<br /><img src="https://cdn.dialoginsight.com/OFSYS/admin/webpush/WebPush-Browser-Authorization-Firefox.jpg" /></div>
	</div>
	<p><strong>Note</strong><br />
		If the browser authorization request is not displayed, it is already Authorized or Blocked. Make sure you have chosen "Ask" in Chrome, or have not chosen
		any value in Firefox:</p>

	<div class="exemples">
		<div>Chrome<br /><img src="https://cdn.dialoginsight.com/OFSYS/admin/webpush/WebPush-Browser-Permission-Chrome.jpg" /></div>
		<div>Firefox<br /><img src="https://cdn.dialoginsight.com/OFSYS/admin/webpush/WebPush-Browser-Permission-Firefox.jpg" /></div>
	</div>

	<h2>Identify Contact (advanced method)</h2>
	<p>In the Javascript code provided, a function is available so that you can identify subscribers if you already have information about them.
	For example, if your site allows the visitor to login, you already have some information such as email, first name, name. You
	can use the Javascript function "DI.WebPush.Identify" to identify the contact subscription that is present in your contact list on Dialog Insight.</p>

	<p><strong>Function</strong><br />
	DI.WebPush.Identify('f_KeyFieldCode', 'Value');<br /><br />
	<strong>Parameters</strong><br />
	"f_KeyFieldCode": Code of the "unique key" field. You can find this information on the field configuration page of your project. If your project contains
	more than one unique key, you will not be able to use this identificaton method.<br />
	"Value": Value to find in the contact list (your project) to identify the contact.
	</p>

	<strong>Example - For the unique key field email (f_EMail)</strong>
	<ol>
		<li> Add the contact in your Dialog Insight project. </li>
		<li> Enter the value in the following field and click on "Identify". </li>
		<li> You should see 1 more recognized contact on Dialog Insight. You can create a group targeting these contacts. </li>
	</ol>

	<p>Value of the unique key field (Email) : <input id="email" type="text" class="form-textbox" style="width:300px;" />
	<input type="button" value="Identify" onclick="DI.WebPush.Identify('f_EMail', document.getElementById('email').value); showFeedback(document.getElementById('email').value);" />
	<span id="feedback"></span>
	</p>

</div><br /><br /> <br />
</body>
</html>
